<h1 class="page-title">
    <i class="fa-solid fa-user-pen"></i> Editar Usuário
</h1>

<div class="card" style="
    background:white;
    padding:25px;
    border-radius:12px;
    box-shadow:0 2px 6px #00000015;
    max-width:600px;
">

    <% if (error) { %>
        <div class="alert-error"><%= error %></div>
    <% } %>

    <form method="POST" action="/users/<%= user.id %>/edit">

        <!-- Usuário -->
        <label style="font-weight:600;">Usuário (login)</label>
        <input type="text" value="<%= user.usuario %>" disabled
               style="background:#f5f5f5;">

        <!-- Nome -->
        <label style="font-weight:600;">Nome completo</label>
        <input type="text" name="nome" required
               value="<%= user.nome %>">

        <!-- Papel -->
        <label style="font-weight:600;">Papel</label>
        <select name="role" required>
            <option value="admin"       <%= user.role === "admin" ? "selected" : "" %>>Administrador</option>
            <option value="funcionario" <%= user.role === "funcionario" ? "selected" : "" %>>Funcionário</option>
            <option value="operador"    <%= user.role === "operador" ? "selected" : "" %>>Operador</option>
        </select>

        <hr style="margin:20px 0;">

        <!-- Nova senha -->
        <label style="font-weight:600;">Nova senha (opcional)</label>
        <input type="password" name="senha"
               placeholder="Deixe vazio para manter a senha atual">

        <!-- Botão -->
        <button class="btn-primary" style="margin-top:20px;">
            <i class="fa-solid fa-save"></i> Salvar Alterações
        </button>

    </form>

</div>
