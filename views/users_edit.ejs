<h1 class="page-title">
    <i class="fa-solid fa-user-pen"></i> Editar Usuário
</h1>

<div class="card form-card">

    <% if (error) { %>
        <div class="alert-error"><%= error %></div>
    <% } %>

    <form method="POST" action="/users/<%= user.id %>/edit" class="formulario">

        <div class="grupo">
            <label>Usuário (login)</label>
            <input type="text" value="<%= user.usuario %>" disabled>
        </div>

        <div class="grupo">
            <label>Nome completo</label>
            <input type="text" name="nome" required value="<%= user.nome %>">
        </div>

        <div class="grupo">
            <label>Papel</label>
            <select name="role" required>
                <option value="admin"       <%= user.role === "admin" ? "selected" : "" %>>Administrador</option>
                <option value="funcionario" <%= user.role === "funcionario" ? "selected" : "" %>>Funcionário</option>
                <option value="operador"    <%= user.role === "operador" ? "selected" : "" %>>Operador</option>
            </select>
        </div>

        <hr>

        <div class="grupo">
            <label>Nova senha (opcional)</label>
            <input type="password" name="senha" placeholder="Deixe vazio para manter a senha atual">
        </div>

        <button class="btn btn-verde-claro btn-full">
            <i class="fa-solid fa-save"></i> Salvar Alterações
        </button>

    </form>

</div>

<%- include("./partials/rodape") %>
