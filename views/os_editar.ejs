<h1 class="page-title">
  <i class="fa-solid fa-pen-to-square"></i>
  Editar Ordem de Serviço
</h1>

<div class="card form-card">

  <% if (error) { %>
    <div class="alert-error"><%= error %></div>
  <% } %>

  <form method="POST" action="/os/<%= os.id %>/editar" class="formulario">

    <div class="grupo">
      <label>Equipamento</label>
      <select name="equipamento_id" required>
        <% equipamentos.forEach(eq => { %>
          <option value="<%= eq.id %>" <%= os.equipamento_id === eq.id ? 'selected' : '' %>>
            <%= eq.nome %>
          </option>
        <% }) %>
      </select>
    </div>

    <div class="grupo">
      <label>Tipo</label>
      <select name="tipo" required>
        <option value="Mecânica"   <%= os.tipo === 'Mecânica' ? 'selected' : '' %>>Mecânica</option>
        <option value="Elétrica"   <%= os.tipo === 'Elétrica' ? 'selected' : '' %>>Elétrica</option>
        <option value="Preventiva" <%= os.tipo === 'Preventiva' ? 'selected' : '' %>>Preventiva</option>
        <option value="Corretiva"  <%= os.tipo === 'Corretiva' ? 'selected' : '' %>>Corretiva</option>
      </select>
    </div>

    <div class="grupo">
      <label>Descrição</label>
      <textarea name="descricao" rows="4" required><%= os.descricao %></textarea>
    </div>

    <div class="grupo">
      <label>Técnico</label>
      <input type="text" name="tecnico" value="<%= os.tecnico || '' %>">
    </div>

    <button class="btn btn-verde-claro btn-full">
      <i class="fa-solid fa-save"></i>
      Salvar Alterações
    </button>

  </form>

</div>

<a href="/ordens" class="btn btn-cinza-escuro">← Voltar</a>

<%- include("./partials/rodape") %>
