<h1 class="page-title">Usuários do Sistema</h1>

<a href="/users/new" class="btn-add">+ Novo Usuário</a>

<table class="tabela">
    <tr>
        <th>ID</th>
        <th>Usuário</th>
        <th>Nome</th>
        <th>Função</th>
        <th>Ações</th>
    </tr>

    <% users.forEach(u => { %>
        <tr>
            <td><%= u.id %></td>
            <td><%= u.usuario %></td>
            <td><%= u.nome || "-" %></td>
            <td>
                <% if (u.role === "admin") { %>
                    <span class="tag admin">Admin</span>
                <% } else if (u.role === "funcionario") { %>
                    <span class="tag func">Funcionário</span>
                <% } else { %>
                    <span class="tag operador">Operador</span>
                <% } %>
            </td>

            <td>
                <a href="/users/<%= u.id %>/edit" class="btn-edit">Editar</a>

                <form method="POST" action="/users/<%= u.id %>/delete" style="display:inline;"
                      onsubmit="return confirm('Excluir este usuário?')">
                    <button class="btn-del">Excluir</button>
                </form>
            </td>
        </tr>
    <% }) %>
</table>

